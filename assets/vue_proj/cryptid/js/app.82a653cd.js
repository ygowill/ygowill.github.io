(function(e){function t(t){for(var l,s,r=t[0],o=t[1],c=t[2],d=0,h=[];d<r.length;d++)s=r[d],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&h.push(n[s][0]),n[s]=0;for(l in o)Object.prototype.hasOwnProperty.call(o,l)&&(e[l]=o[l]);u&&u(t);while(h.length)h.shift()();return i.push.apply(i,c||[]),a()}function a(){for(var e,t=0;t<i.length;t++){for(var a=i[t],l=!0,r=1;r<a.length;r++){var o=a[r];0!==n[o]&&(l=!1)}l&&(i.splice(t--,1),e=s(s.s=a[0]))}return e}var l={},n={app:0},i=[];function s(t){if(l[t])return l[t].exports;var a=l[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,s),a.l=!0,a.exports}s.m=e,s.c=l,s.d=function(e,t,a){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(s.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)s.d(a,l,function(t){return e[t]}.bind(null,l));return a},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],o=r.push.bind(r);r.push=t,r=r.slice();for(var c=0;c<r.length;c++)t(r[c]);var u=o;i.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"034f":function(e,t,a){"use strict";a("85ec")},"10c4":function(e,t,a){"use strict";a("5f96")},"56d7":function(e,t,a){"use strict";a.r(t);a("e260"),a("e6cf"),a("cca6"),a("a79d");var l=a("2b0e"),n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{attrs:{id:"app"}},[a("Cryptid")],1)},i=[],s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",[a("h2",[e._v("诡影寻踪 网页助手")]),a("el-row",{attrs:{type:"flex"}},[a("el-col",{attrs:{span:12}},[a("el-card",{attrs:{shadow:"never"}},[a("el-card",{attrs:{shadow:"never"}},[a("canvas",{staticStyle:{display:"block",margin:"50px auto"},attrs:{height:"520",id:"canvas",width:"570"},on:{click:e.handleMapClick}},[e._v(" 你的浏览器居然不支持Canvas？！赶快换一个吧！！ ")])]),a("el-card",{attrs:{shadow:"never"}},[a("el-row",{attrs:{gutter:12,type:"flex",justify:"center",align:"middle"}},[a("el-col",{attrs:{span:4}},[e._v(" 手动修改： ")]),a("el-col",{attrs:{span:12}},[a("el-radio-group",{model:{value:e.mode,callback:function(t){e.mode=t},expression:"mode"}},[a("el-radio",{attrs:{label:0}},[e._v("添加/移除遮蔽")]),a("el-radio",{attrs:{label:1}},[e._v("添加/移除小屋")]),a("el-radio",{attrs:{label:2}},[e._v("添加/移除石柱")])],1)],1),a("el-col",{attrs:{span:4}},[a("el-select",{attrs:{placeholder:"请选择","popper-class":"colorOptionsContent"},model:{value:e.chosenColor,callback:function(t){e.chosenColor=t},expression:"chosenColor"}},e._l(e.colorOption,(function(e){return a("el-option",{key:e.value,style:"background:"+e.value+"; color: "+e.font_color+"; width:100%; height:100%;",attrs:{label:e.label,value:e.value}})})),1)],1),a("el-col",{attrs:{span:4}},[a("el-button",{on:{click:e.handleManualConfig}},[e._v(" "+e._s(this.manual_config_tip)+" ")])],1)],1)],1),a("el-card",{attrs:{shadow:"never"}},[a("el-row",{attrs:{gutter:12}},[a("el-col",{attrs:{span:4}},[e._v(" 神秘代码： ")]),a("el-col",{attrs:{span:20}},[a("el-input",{staticStyle:{alignment:"left"},attrs:{type:"text",size:"small",placeholder:"请输入内容"},on:{input:e.handleCodeInputChange},model:{value:e.generatedCode,callback:function(t){e.generatedCode=t},expression:"generatedCode"}})],1)],1)],1)],1)],1),a("el-col",{attrs:{span:12}},[this.manual_config_mode?e._e():a("el-card",{attrs:{shadow:"never"}},[a("h4",[e._v(" 线索对照表 ")]),a("el-table",{staticStyle:{width:"100%"},attrs:{data:e.clueData,"row-style":{height:"0"},"cell-style":{padding:"0"}}},[a("el-table-column",{attrs:{prop:"clue",label:"线索",width:"240"}}),a("el-table-column",{attrs:{label:"yourself"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"checklist_button",attrs:{size:"mini",type:e.clue_state_list[t.$index][0].type},on:{click:function(a){return e.handleClick(t.$index,0)}}},[e._v(e._s(e.clue_state_list[t.$index][0].label)+" ")])]}}],null,!1,3877861793)}),a("el-table-column",{attrs:{label:"player2"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"checklist_button",attrs:{size:"mini",type:e.clue_state_list[t.$index][1].type},on:{click:function(a){return e.handleClick(t.$index,1)}}},[e._v(e._s(e.clue_state_list[t.$index][1].label)+" ")])]}}],null,!1,1618031776)}),a("el-table-column",{attrs:{label:"player3"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"checklist_button",attrs:{size:"mini",type:e.clue_state_list[t.$index][2].type},on:{click:function(a){return e.handleClick(t.$index,2)}}},[e._v(e._s(e.clue_state_list[t.$index][2].label)+" ")])]}}],null,!1,2602454819)}),a("el-table-column",{attrs:{label:"player4"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"checklist_button",attrs:{size:"mini",type:e.clue_state_list[t.$index][3].type},on:{click:function(a){return e.handleClick(t.$index,3)}}},[e._v(e._s(e.clue_state_list[t.$index][3].label)+" ")])]}}],null,!1,2660789538)}),a("el-table-column",{attrs:{label:"player5"},scopedSlots:e._u([{key:"default",fn:function(t){return[a("el-button",{staticClass:"checklist_button",attrs:{size:"mini",type:e.clue_state_list[t.$index][4].type},on:{click:function(a){return e.handleClick(t.$index,4)}}},[e._v(e._s(e.clue_state_list[t.$index][4].label)+" ")])]}}],null,!1,437638565)})],1)],1),this.manual_config_mode?a("el-card",{attrs:{shadow:"never"}},[a("el-row",[a("h4",[e._v(" Tips:拖动以调整排列，点击以旋转板块 ")])]),a("el-col",{staticClass:"draglist1",attrs:{span:12}},[a("draggable",{attrs:{group:"map_tile"},on:{end:e.handleDragEnd}},e._l(e.tile_list1,(function(t){return a("el-card",{key:t.id,staticClass:"dragItem",staticStyle:{margin:"20px","font-size":"60px"},attrs:{shadow:"never"}},[a("i",{staticClass:"el-icon-refresh",on:{click:e.handleDragClick}},[e._v(e._s(t.label))])])})),1)],1),a("el-col",{staticClass:"draglist2",attrs:{span:12}},[a("draggable",{attrs:{group:"map_tile"},on:{end:e.handleDragEnd}},e._l(e.tile_list2,(function(t){return a("el-card",{key:t.id,staticClass:"dragItem",staticStyle:{margin:"20px","font-size":"60px"},attrs:{shadow:"never"}},[a("i",{staticClass:"el-icon-refresh",on:{click:e.handleDragClick}},[e._v(e._s(t.label))])])})),1)],1)],1):e._e()],1)],1)],1)},r=[],o=a("b85c"),c=(a("d3b7"),a("25f0"),a("a434"),a("b0c0"),a("e9c4"),a("fb6a"),a("a630"),a("3ca3"),a("ddb0"),a("cb29"),[{name:"在 森林 或 沙漠",distance:0,type:"terrain",inverse:!1,value1:"F",value2:"D"},{name:"在 森林 或 海洋",distance:0,type:"terrain",inverse:!1,value1:"F",value2:"W"},{name:"在 森林 或 沼泽",distance:0,type:"terrain",inverse:!1,value1:"F",value2:"S"},{name:"在 森林 或 山地",distance:0,type:"terrain",inverse:!1,value1:"F",value2:"M"},{name:"在 沙漠 或 海洋",distance:0,type:"terrain",inverse:!1,value1:"D",value2:"W"},{name:"在 沙漠 或 沼泽",distance:0,type:"terrain",inverse:!1,value1:"D",value2:"S"},{name:"在 沙漠 或 山地",distance:0,type:"terrain",inverse:!1,value1:"D",value2:"M"},{name:"在 海洋 或 沼泽",distance:0,type:"terrain",inverse:!1,value1:"W",value2:"S"},{name:"在 海洋 或 沼泽",distance:0,type:"terrain",inverse:!1,value1:"W",value2:"M"},{name:"在 沼泽 或 山地",distance:0,type:"terrain",inverse:!1,value1:"S",value2:"M"},{name:"在 森林 的1格距离内",distance:1,type:"terrain",inverse:!1,value1:"F",value2:null},{name:"在 沙漠 的1格距离内",distance:1,type:"terrain",inverse:!1,value1:"D",value2:null},{name:"在 沼泽 的1格距离内",distance:1,type:"terrain",inverse:!1,value1:"S",value2:null},{name:"在 山地 的1格距离内",distance:1,type:"terrain",inverse:!1,value1:"M",value2:null},{name:"在 海洋 的1格距离内",distance:1,type:"terrain",inverse:!1,value1:"W",value2:null},{name:"在 任意动物领地 的1格距离内",distance:1,type:"animal",inverse:!1,value1:"B",value2:"C"},{name:"在 石柱 的2格距离内",distance:2,type:"structType",inverse:!1,value1:"O",value2:null},{name:"在 小屋 的2格距离内",distance:2,type:"structType",inverse:!1,value1:"T",value2:null},{name:"在 熊领地 的2格距离内",distance:2,type:"animal",inverse:!1,value1:"B",value2:null},{name:"在 狐狸领地 的2格距离内",distance:2,type:"animal",inverse:!1,value1:"C",value2:null},{name:"在 白色地标 的3格距离内",distance:3,type:"structColor",inverse:!1,value1:"W",value2:null},{name:"在 蓝色地标 的3格距离内",distance:3,type:"structColor",inverse:!1,value1:"B",value2:null},{name:"在 绿色地标 的3格距离内",distance:3,type:"structColor",inverse:!1,value1:"G",value2:null},{name:"在 黑色地标 的3格距离内",distance:3,type:"structColor",inverse:!1,value1:"D",value2:null},{name:"不在 森林 或 沙漠",distance:0,type:"terrain",inverse:!0,numValues:2,value1:"F",value2:"D"},{name:"不在 森林 或 海洋",distance:0,type:"terrain",inverse:!0,numValues:2,value1:"F",value2:"W"},{name:"不在 森林 或 沼泽",distance:0,type:"terrain",inverse:!0,numValues:2,value1:"F",value2:"S"},{name:"不在 森林 或 山地",distance:0,type:"terrain",inverse:!0,numValues:2,value1:"F",value2:"M"},{name:"不在 沙漠 或 海洋",distance:0,type:"terrain",inverse:!0,numValues:2,value1:"D",value2:"W"},{name:"不在 沙漠 或 沼泽",distance:0,type:"terrain",inverse:!0,numValues:2,value1:"D",value2:"S"},{name:"不在 沙漠 或 山地",distance:0,type:"terrain",inverse:!0,numValues:2,value1:"D",value2:"M"},{name:"不在 海洋 或 沼泽",distance:0,type:"terrain",inverse:!0,numValues:2,value1:"W",value2:"S"},{name:"不在 海洋 或 山地",distance:0,type:"terrain",inverse:!0,numValues:2,value1:"W",value2:"M"},{name:"不在 沼泽 或 山地",distance:0,type:"terrain",inverse:!0,numValues:2,value1:"S",value2:"M"},{name:"不在 森林 的1格距离内",distance:1,type:"terrain",inverse:!0,numValues:2,value1:"F",value2:null},{name:"不在 沙漠 的1格距离内",distance:1,type:"terrain",inverse:!0,numValues:2,value1:"D",value2:null},{name:"不在 沼泽 的1格距离内",distance:1,type:"terrain",inverse:!0,numValues:1,value1:"S",value2:null},{name:"不在 山地 的1格距离内",distance:1,type:"terrain",inverse:!0,numValues:1,value1:"M",value2:null},{name:"不在 海洋 的1格距离内",distance:1,type:"terrain",inverse:!0,numValues:1,value1:"W",value2:null},{name:"不在 任意动物领地 的1格距离内",distance:1,type:"animal",inverse:!0,numValues:2,value1:"B",value2:"C"},{name:"不在 石柱 的2格距离内",distance:2,type:"structType",inverse:!0,numValues:1,value1:"O",value2:null},{name:"不在 小屋 的2格距离内",distance:2,type:"structType",inverse:!0,numValues:1,value1:"T",value2:null},{name:"不在 熊领地 的2格距离内",distance:2,type:"animal",inverse:!0,numValues:1,value1:"B",value2:null},{name:"不在 狐狸领地 的2格距离内",distance:2,type:"animal",inverse:!0,numValues:1,value1:"C",value2:null},{name:"不在 白色地标 的3格距离内",distance:3,type:"structColor",inverse:!0,numValues:1,value1:"W",value2:null},{name:"不在 蓝色地标 的3格距离内",distance:3,type:"structColor",inverse:!0,numValues:1,value1:"B",value2:null},{name:"不在 绿色地标 的3格距离内",distance:3,type:"structColor",inverse:!0,numValues:1,value1:"G",value2:null},{name:"不在 黑色地标 的3格距离内",distance:3,type:"structColor",inverse:!0,numValues:1,value1:"D",value2:null}]),u={F:"#159335",D:"#FECD0D",S:"#85338A",W:"#1E7DBB",M:"#999898"},d=[["W","S","S","W","S","S","W","W","D","W","D","D","F","F","D","F","F","F"],["S","S","S","F","S","M","F","F","M","F","D","M","F","D","M","F","D","D"],["S","S","M","S","S","M","F","F","M","F","M","M","F","W","W","W","W","W"],["D","D","D","D","D","D","M","M","D","M","W","F","M","W","F","M","W","F"],["S","S","D","S","D","D","S","D","W","M","W","W","M","M","W","M","M","W"],["D","M","M","D","M","W","S","S","W","S","S","W","S","F","W","F","F","F"]],h=[[0,0,0,0,0,0,0,0,0,0,0,1,0,0,1,0,0,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,1,1],[1,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],_=[[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[1,0,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0],[0,1,1,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,1],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]],v=a("b76a"),p=a.n(v),m=a("eb11"),f={name:"Cryptid",components:{draggable:p.a},mounted:function(){this.initCanvas(),this.initClue()},data:function(){return{a:2*Math.PI/6,map_width:12,map_height:9,tile_width:6,tile_height:3,r:30,map_detail:[],Point:function(e,t){this.x=e,this.y=t},randomIndexArray:[0,1,2,3,4,5],randomBoolArray:[!1,!1,!1,!1,!1,!1],hut_info:[[],[],[],[],[],[]],stone_info:[[],[],[],[],[],[]],clueData:[],mode:0,clue_state_list:[],click_x:0,click_y:0,generatedCode:"",manual_config_tip:"展开手动布局",manual_config_mode:!1,chosenColor:"green",colorOption:[{label:"green",font_color:"white",value:"#009A00"},{label:"blue",font_color:"white",value:"#3232E8"},{label:"black",font_color:"white",value:"#000012"},{label:"white",font_color:"black",value:"#FFFFFF"}],tile_list1:[{id:0,label:"1"},{id:2,label:"3"},{id:4,label:"5"}],tile_list2:[{id:1,label:"2"},{id:3,label:"4"},{id:5,label:"6"}]}},methods:{initCanvas:function(){var e=document.getElementById("canvas");this.ctx=e.getContext("2d");for(var t=0;t<this.map_height;t++){this.map_detail[t]=[];for(var a=0;a<this.map_width;a++)this.map_detail[t][a]=0}var l=this.generateRandomIndexArray(6),n=this.generateRandomBoolArray(6),i={index_array:l,flip_array:n};this.generateMap(i)},handleMapClick:function(e){var t,a;(e.offsetX||0===e.offsetX)&&(t=e.offsetX,a=e.offsetY);var l=this.getNearestBlock(t,a),n="shadow";0===this.mode?console.log("shadow mode"):1===this.mode?(n="structure",console.log("add hut to map"),this.map_detail[l["block_y_idx"]][l["block_x_idx"]]["hut"]=!this.map_detail[l["block_y_idx"]][l["block_x_idx"]]["hut"],this.map_detail[l["block_y_idx"]][l["block_x_idx"]]["hut_color"]=this.chosenColor):2===this.mode&&(n="structure",console.log("add stone to map"),this.map_detail[l["block_y_idx"]][l["block_x_idx"]]["stone"]=!this.map_detail[l["block_y_idx"]][l["block_x_idx"]]["stone"],this.map_detail[l["block_y_idx"]][l["block_x_idx"]]["stone_color"]=this.chosenColor),console.log("block_info",l),this.redraw_block(l,n)},handleCodeInputChange:function(e){var t="N4IglgdgJgpgHgfQIYCcVIJ4gFwG0"+e+"A";try{var a=m.decompressFromEncodedURIComponent(t);this.generateMap(JSON.parse(a))}catch(l){this.generatedCode="无法解析神秘代码，请重新输入"}},handleManualConfig:function(){if(this.manual_config_mode=!this.manual_config_mode,"展开手动布局"===this.manual_config_tip?this.manual_config_tip="展开线索提示":this.manual_config_tip="展开手动布局",this.manual_config_mode){var e={index_array:[0,1,2,3,4,5,6],flip_array:[!1,!1,!1,!1,!1,!1]};this.generateMap(e)}else this.generateMap({index_array:this.randomIndexArray,flip_array:this.randomBoolArray})},handleDragClick:function(e){if(3===this.tile_list1.length){var t=parseInt(e.path[0].childNodes[0].data)-1;this.randomBoolArray[t]=!this.randomBoolArray[t],this.$notify({title:"成功",message:"已成功旋转板块"+(t+1).toString(),duration:1e3}),d[t].reverse(),h[t].reverse(),_[t].reverse(),this.generateMap({index_array:this.randomIndexArray,flip_array:this.randomBoolArray})}else this.$notify({title:"错误",message:"请将板块排列成3*2的形状后再旋转",duration:1e3})},handleDragEnd:function(e){var t=e.oldIndex,a=e.newIndex,l=null;if(-1!==e.from.parentNode.className.indexOf("draglist1")?(l=this.tile_list1[t],this.tile_list1.splice(t,1)):-1!==e.from.parentNode.className.indexOf("draglist2")&&(l=this.tile_list2[t],this.tile_list2.splice(t,1)),-1!==e.to.parentNode.className.indexOf("draglist1")?this.tile_list1.splice(a,0,l):-1!==e.to.parentNode.className.indexOf("draglist2")&&this.tile_list2.splice(a,0,l),console.log("after drag",this.tile_list1,this.tile_list2),3===this.tile_list1.length){for(var n=[],i=0;i<3;i++)n.push(this.tile_list1[i].id),n.push(this.tile_list2[i].id);console.log("index array",n),this.randomIndexArray=n,this.generateMap({index_array:this.randomIndexArray,flip_array:this.randomBoolArray})}else this.$notify({title:"错误",message:"无法生成地图，请将板块排列成3*2的形状",duration:1e3})},initClue:function(){this.clueData=[];var e,t=Object(o["a"])(c);try{for(t.s();!(e=t.n()).done;){var a=e.value;!1===a.inverse&&this.clueData.push({clue:a.name})}}catch(s){t.e(s)}finally{t.f()}for(var l=this.clueData.length,n=0;n<l;n++){this.clue_state_list[n]=[];for(var i=0;i<5;i++)this.clue_state_list[n][i]=0===i?{label:"No!",type:"danger"}:{label:"Maybe",type:""}}},handleClick:function(e,t){if("Maybe"===this.clue_state_list[e][t].label?this.clue_state_list[e][t]={label:"Inverse",type:"warning"}:"Inverse"===this.clue_state_list[e][t].label?this.clue_state_list[e][t]={label:"No!",type:"danger"}:this.clue_state_list[e][t]={label:"Maybe",type:""},0===t)for(var a=0;a<this.clue_state_list.length;a++)a!==e&&(this.clue_state_list[a][0]={label:"No!",type:"danger"});for(var l=0,n=0,i=0;i<this.clue_state_list.length;i++)"No!"!==this.clue_state_list[i][t].label&&(l++,n=i);1===l&&"Inverse"!==this.clue_state_list[n][t].label&&(this.clue_state_list[n][t]={label:"Yes!",type:"success"}),this.$set(this.clue_state_list,e,this.clue_state_list[e])},drawDigits:function(){for(var e=document.getElementById("canvas"),t=e.height/6,a=0;a<3;a++){for(var l=e.width/4,n=0;n<2;n++){var i=2*a+n;this.ctx.font="60px Arial",this.ctx.textAlign="center",this.ctx.fillStyle="black",this.ctx.fillText((this.randomIndexArray[i]+1).toString(),l,t),l+=e.width/2}t+=e.height/3}},generateMap:function(e){var t=JSON.stringify(e),a=m.compressToEncodedURIComponent(t);this.generatedCode=a.slice("N4IglgdgJgpgHgfQIYCcVIJ4gFwG0".length,-1),this.randomIndexArray=e["index_array"],this.randomBoolArray=e["flip_array"];for(var l=this.r*Math.sin(this.a),n=0;n<3;n++){for(var i=this.r,s=0;s<2;s++){var r=this.randomIndexArray[2*n+s],o={tile_id:r,tile_start_x:s,tile_start_y:n,tile:d[r],bear:h[r],cougar:_[r],flip:this.randomBoolArray[2*n+s]};this.drawTile(i,l,o),i+=9*this.r+.25*this.r}l+=6*this.r*Math.sin(this.a)+.4*this.r}this.manual_config_mode&&this.drawDigits()},generateRandomBoolArray:function(e){for(var t=[],a=0;a<e;a++)t.push(Math.random()<.5);return t},generateRandomIndexArray:function(e){for(var t=Array.from(new Array(e).keys()),a=1;a<t.length;a++){var l=Math.floor(Math.random()*(a+1)),n=[t[l],t[a]];t[a]=n[0],t[l]=n[1]}return t},drawTile:function(e,t,a){for(var l=e,n=0;n<this.tile_width;n++){for(var i=t+(n%2===0?0:this.r*Math.sin(this.a)),s=0;s<this.tile_height;s++){var r=n*this.tile_height+s,o={tile_id:a["tile_id"],block_id:r,block_center_x:l,block_center_y:i,block_x_idx:6*a["tile_start_x"]+n,block_y_idx:3*a["tile_start_y"]+s,block:a["tile"][r],bear:a["bear"][r],cougar:a["cougar"][r],shadow:!1,flip:a["flip"]},c={hut:!1,hut_color:"black",stone:!1,stone_color:"black"};if(Object.prototype.hasOwnProperty.call(this.map_detail[o["block_y_idx"]][o["block_x_idx"]],"hut")||void 0===this.map_detail[o["block_y_idx"]][o["block_x_idx"]]["hut"])for(var u in c)o[u]=c[u];else for(var d in c)o[d]=this.map_detail[o["block_y_idx"]][o["block_x_idx"]][d];this.map_detail[o["block_y_idx"]][o["block_x_idx"]]=o,this.drawHexagon(l,i,o),i+=2*this.r*Math.sin(this.a)}l+=this.r*(1+Math.cos(this.a))}},drawHexagon:function(e,t,a){this.ctx.beginPath();for(var l=0;l<6;l++)this.ctx.lineTo(e+this.r*Math.cos(this.a*l),t+this.r*Math.sin(this.a*l));this.ctx.closePath(),this.ctx.setLineDash([]),this.ctx.lineWidth=2,this.ctx.strokeStyle="white";var n=a["block"];this.ctx.fillStyle=u[n],this.ctx.fill(),this.ctx.stroke(),a["bear"]?this.createAnimalRegion(e,t,"black"):a["cougar"]?this.createAnimalRegion(e,t,"red"):a["hut"]?this.createStructure(e,t,"hut",a["hut_color"]):a["stone"]&&this.createStructure(e,t,"stone",a["stone_color"])},getPolygonPoints:function(e,t,a,l,n){for(var i=[],s=n||0,r=0;r<l;++r)i.push(new this.Point(e+a*Math.sin(s),t+a*Math.cos(s))),s+=2*Math.PI/l;return i},createPolygonPath:function(e,t,a,l,n){var i=this.getPolygonPoints(e,t,a,l,n);this.ctx.beginPath(),this.ctx.moveTo(i[0].x,i[0].y);for(var s=0;s<l;++s)this.ctx.lineTo(i[s].x,i[s].y);this.ctx.closePath()},createAnimalRegion:function(e,t,a){this.createPolygonPath(e,t,.8*this.r,6,Math.PI/6),this.ctx.setLineDash([7,5]),this.ctx.strokeStyle=a,this.ctx.stroke()},createStructure:function(e,t,a,l){var n=4,i=0;"hut"===a?(n=8,i=Math.PI/8):"stone"===a&&(n=3,i=Math.PI/3),this.createPolygonPath(e,t,this.r/2,n,i),this.ctx.setLineDash([]),this.ctx.lineWidth=2,this.ctx.strokeStyle="black",this.ctx.fillStyle=l,this.ctx.fill(),this.ctx.stroke()},getNearestBlock:function(e,t){var a,l=1e7,n=null,i=Object(o["a"])(this.map_detail);try{for(i.s();!(a=i.n()).done;){var s,r=a.value,c=Object(o["a"])(r);try{for(c.s();!(s=c.n()).done;){var u=s.value,d=Math.pow(e-u.block_center_x,2)+Math.pow(t-u.block_center_y,2);d<l&&(l=d,n=u)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){i.e(h)}finally{i.f()}return n},redraw_block:function(e,t){var a=e.block_center_x,l=e.block_center_y,n=e.block_x_idx,i=e.block_y_idx;console.log("redraw block type",t),"shadow"===t?(e.shadow?(console.log("redraw block info",e),this.drawHexagon(a,l,e)):(this.drawShadow(a,l),e.bear?this.createAnimalRegion(a,l,"black"):e.cougar&&this.createAnimalRegion(a,l,"red")),e.hut?this.createStructure(a,l,"hut",e.hut_color):e.stone&&this.createStructure(a,l,"stone",e.stone_color),this.map_detail[i][n].shadow=!this.map_detail[i][n].shadow):(this.drawHexagon(a,l,e),e.shadow&&this.drawShadow(a,l),e.hut?this.createStructure(a,l,"hut",e.hut_color):e.stone&&this.createStructure(a,l,"stone",e.stone_color)),this.manual_config_mode&&this.drawDigits()},drawShadow:function(e,t){this.createPolygonPath(e,t,this.r,6,Math.PI/6),this.ctx.setLineDash([]),this.ctx.lineWidth=2,this.ctx.strokeStyle="white",this.ctx.fillStyle="rgba(0, 0, 0, 0.75)",this.ctx.fill(),this.ctx.stroke()}}},y=f,g=(a("10c4"),a("2877")),b=Object(g["a"])(y,s,r,!1,null,"330f1ce8",null),x=b.exports,k={name:"App",components:{Cryptid:x}},w=k,M=(a("034f"),Object(g["a"])(w,n,i,!1,null,null,null)),S=M.exports,C=a("5c96"),D=a.n(C);a("0fae");l["default"].config.productionTip=!1,l["default"].use(D.a),new l["default"]({render:function(e){return e(S)}}).$mount("#app")},"5f96":function(e,t,a){},"85ec":function(e,t,a){}});
//# sourceMappingURL=app.82a653cd.js.map